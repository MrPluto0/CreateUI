!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["create-ui"]=e():t["create-ui"]=e()}(self,(function(){return(()=>{"use strict";var t=[(t,e,i)=>{function n(t,e,i,n,o,s,r,a){var u,d="function"==typeof t?t.options:t;if(e&&(d.render=e,d.staticRenderFns=i,d._compiled=!0),n&&(d.functional=!0),s&&(d._scopeId="data-v-"+s),r?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},d._ssrRegister=u):o&&(u=a?function(){o.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:o),u)if(d.functional){d._injectStyles=u;var c=d.render;d.render=function(t,e){return u.call(e),c(t,e)}}else{var l=d.beforeCreate;d.beforeCreate=l?[].concat(l,u):[u]}return{exports:t,options:d}}i.d(e,{Z:()=>n})}],e={};function i(n){var o=e[n];if(void 0!==o)return o.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,i),s.exports}i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var n={};return(()=>{i.d(n,{default:()=>r});var t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("audio",{ref:t.refer,attrs:{id:"audio",src:t.src},on:{timeupdate:t.updateTime,ended:t.ended}}),t._v(" "),i("div",{staticClass:"ct-music-wrapper",style:{"--main-color":t.color,"--min-width":t.width+"px","--bg-color":t.bgColor}},[i("div",{staticClass:"ct-music-btn"},[i("i",{staticClass:"iconfont",class:t.isPlay?"icon-zanting":"icon-shipinbofangshibofang",on:{click:t.togglePlay}})]),t._v(" "),i("div",{staticClass:"ct-music-process-wrapper"},[i("div",{staticClass:"ct-music__name"},[t._v(t._s(t.name))]),t._v(" "),i("div",{staticClass:"ct-music__process-fill",style:{width:t.sildePercent+"%"}}),t._v(" "),i("div",{staticClass:"ct-music__process"})])])])};t._withStripped=!0;const e={name:"CtMusicbox",model:{prop:"isPlay",event:"input"},props:{src:{required:!0,type:null},name:{default:"Your Music Name",type:String},color:{default:"#b42b51",type:String},bgColor:{default:"#efefef",type:String},isPlay:{default:!1,type:Boolean},refer:{default:"audio",type:String},width:{default:100}},data:function(){return{sildePercent:0,audio:null,audioCtx:null,source:null}},mounted:function(){this.audio=this.$refs[this.refer]},methods:{togglePlay:function(){this.audioCtx&&"suspended"===this.audioCtx.state&&this.audioCtx.resume(),this.$emit("input",!this.isPlay)},updateTime:function(t){this.sildePercent=parseInt(t.target.currentTime/this.audio.duration*100)},ended:function(){this.$emit("input",!1),this.$emit("handleEnded")},getAudioCtx:function(){return this.audioCtx=new(window.AudioContext||window.webkitAudioContext),this.audioCtx},getAudioAnalyser:function(){this.audioCtx||(this.audioCtx=new(window.AudioContext||window.webkitAudioContext));var t=this.audioCtx,e=t.createAnalyser(),i=document.getElementById("audio");return this.source=this.source||t.createMediaElementSource(i),this.source.connect(e),e.connect(t.destination),e}},watch:{isPlay:function(t){this.audioCtx&&"suspended"===this.audioCtx.state&&this.audioCtx.resume(),t?this.audio.play():this.audio.pause()}}};var o=(0,i(0).Z)(e,t,[],!1,null,null,null);o.options.__file="packages/musicbox/src/main.vue";const s=o.exports;s.install=function(t){t.component(s.name,s)};const r=s})(),n.default})()}));