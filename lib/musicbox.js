!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["create-ui"]=t():e["create-ui"]=t()}(self,(function(){return(()=>{"use strict";var e={d:(t,i)=>{for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{default:()=>a});var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("audio",{ref:"audio",attrs:{id:"audio",src:e.src},on:{timeupdate:e.updateTime,ended:e.ended}}),e._v(" "),i("div",{staticClass:"ct-music-wrapper",style:{"--main-color":e.color}},[i("div",{staticClass:"btn"},[i("i",{staticClass:"iconfont",class:e.isPlay?"icon-zanting":"icon-shipinbofangshibofang",on:{click:e.togglePlay}})]),e._v(" "),i("div",{staticClass:"ct-music-process-wrapper"},[i("div",{staticClass:"ct-music__name"},[e._v(e._s(e.musicName))]),e._v(" "),i("div",{staticClass:"ct-music__process-fill",style:{width:e.sildePercent+"%"}}),e._v(" "),i("div",{staticClass:"ct-music__process"})])])])};i._withStripped=!0;var s=function(e,t,i,s,o,a,n,r){var u,d="function"==typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=[],d._compiled=!0),u)if(d.functional){d._injectStyles=u;var c=d.render;d.render=function(e,t){return u.call(t),c(e,t)}}else{var l=d.beforeCreate;d.beforeCreate=l?[].concat(l,u):[u]}return{exports:e,options:d}}({name:"CtMusicbox",model:{prop:"isPlay",event:"input"},props:{src:{required:!0,type:null},musicName:{default:"Your Music Name",type:String},color:{default:"#b42b51",type:String},isPlay:{default:!0,type:Boolean}},data:()=>({sildePercent:0,audio:null,audioCtx:null,source:null}),mounted(){this.$refs&&(this.audio=this.$refs.audio),this.audioCtx&&"suspended"===this.audioCtx.state&&this.audioCtx.resume(),this.audio.play()},methods:{togglePlay(){"suspended"===this.audioCtx.state&&this.audioCtx.resume(),this.isPlay?this.audio.pause():this.audio.play(),this.$emit("input",!this.isPlay)},updateTime(e){this.sildePercent=parseInt(e.target.currentTime/this.audio.duration*100)},ended(){this.$emit("input",!1),this.$emit("handleEnded")},getAudioCtx(){return this.audioCtx},getAudioAnalyser(){this.audioCtx=new(window.AudioContext||window.webkitAudioContext);let{audioCtx:e}=this;const t=e.createAnalyser(),i=document.getElementById("audio");return this.source=this.source||e.createMediaElementSource(i),this.source.connect(t),t.connect(e.destination),"suspended"===e.state&&e.resume(),t}},watch:{isPlay(e){"suspended"===this.audioCtx.state&&this.audioCtx.resume(),e?this.audio.play():this.audio.pause()}}},i);s.options.__file="packages/musicbox/src/main.vue";const o=s.exports,a={install(e){e.component(o.name,o)}};return t.default})()}));